<div class="d-flex flex-row">
    <button class="btn btn-light" title="Like" (click)="onLikeTweet()" *ngIf="!tweet.likedByMe">
        <i class="bi bi-heart"></i>
    </button>
    <button class="btn btn-light" title="Like" (click)="onDislikeTweet()" *ngIf="tweet.likedByMe">
        <i class="bi bi-heart-fill"></i>
    </button>
    <button class="btn btn-light text-muted me-3" data-bs-toggle="modal" [attr.data-bs-target]="'#a'+tweet.id"
        (click)="getWhoLiked()">
        <div *ngIf="tweet.likedByMe; else tweetNotLikedByMe">
            Liked by me <span *ngIf="tweet.likesCount > 1">and {{tweet.likesCount - 1}} other<span *ngIf="tweet.likesCount > 2">s</span></span>
        </div>
        <ng-template #tweetNotLikedByMe>
            <span *ngIf="tweet.likesCount == 0">
                No likes
            </span>
            <span *ngIf="tweet.likesCount > 0">
                Liked by {{tweet.likesCount}} other<span *ngIf="tweet.likesCount > 1">s</span>
            </span>
        </ng-template>
    </button>
    <button class="btn btn-light text-muted" title="Retweet" (click)="onRetweet()"><i class="bi bi-arrow-repeat me-1"></i>Retweet</button>
</div>


<!-- Modal -->
<div class="modal fade" id="a{{tweet.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Liked by</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <ng-container *ngIf="whoLiked != null; else noLikes">
                    <ul *ngFor="let username of whoLiked">
                        <li><a routerLink="/profile/{{username}}" data-bs-dismiss="modal">{{username}}</a></li>
                    </ul>
                </ng-container>
                <ng-template #noLikes>
                    <p>No one likes this tweet!</p>
                </ng-template>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>